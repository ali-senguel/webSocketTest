{"id":"zklO","dependencies":[{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/attach-listener.js.map","includedInParent":true,"mtime":1679124831164},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/src/lib/attach-listener.ts","includedInParent":true,"mtime":1679124831172},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/package.json","includedInParent":true,"mtime":1679124831384},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/.babelrc","includedInParent":true,"mtime":1637703918124},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/package.json","includedInParent":true,"mtime":1679124831164},{"name":"./socket-io","loc":{"line":15,"column":26,"index":520},"parent":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/attach-listener.js","resolved":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/socket-io.js"},{"name":"./constants","loc":{"line":16,"column":26,"index":562},"parent":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/attach-listener.js","resolved":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/constants.js"},{"name":"./util","loc":{"line":17,"column":21,"index":599},"parent":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/attach-listener.js","resolved":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/util.js"}],"generated":{"js":"\"use strict\";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.attachListeners=void 0;var n=require(\"./socket-io\"),t=require(\"./constants\"),r=require(\"./util\"),o=function(e,n,t){e.onmessage=function(e){n.current.onMessage&&n.current.onMessage(e),\"function\"==typeof n.current.filter&&!0!==n.current.filter(e)||t(e)}},c=function(e,n,r,o){e.onopen=function(e){n.current.onOpen&&n.current.onOpen(e),o.current=0,r(t.ReadyState.OPEN)}},u=function(e,n,o,c,u){return t.isEventSourceSupported&&e instanceof EventSource?function(){}:(r.assertIsWebSocket(e),e.onclose=function(e){var r,i;if(n.current.onClose&&n.current.onClose(e),o(t.ReadyState.CLOSED),n.current.shouldReconnect&&n.current.shouldReconnect(e)){var a=null!==(r=n.current.reconnectAttempts)&&void 0!==r?r:t.DEFAULT_RECONNECT_LIMIT;u.current<a?s=window.setTimeout(function(){u.current++,c()},null!==(i=n.current.reconnectInterval)&&void 0!==i?i:t.DEFAULT_RECONNECT_INTERVAL_MS):(n.current.onReconnectStop&&n.current.onReconnectStop(a),console.warn(\"Max reconnect attempts of \"+a+\" exceeded\"))}},function(){return s&&window.clearTimeout(s)});var s},s=function(n,r,o,c,u){var s;return n.onerror=function(i){var a,l;r.current.onError&&r.current.onError(i),t.isEventSourceSupported&&n instanceof EventSource&&(r.current.onClose&&r.current.onClose(e(e({},i),{code:1006,reason:\"An error occurred with the EventSource: \"+i,wasClean:!1})),o(t.ReadyState.CLOSED),n.close()),r.current.retryOnError&&(u.current<(null!==(a=r.current.reconnectAttempts)&&void 0!==a?a:t.DEFAULT_RECONNECT_LIMIT)?s=window.setTimeout(function(){u.current++,c()},null!==(l=r.current.reconnectInterval)&&void 0!==l?l:t.DEFAULT_RECONNECT_INTERVAL_MS):(r.current.onReconnectStop&&r.current.onReconnectStop(r.current.reconnectAttempts),console.warn(\"Max reconnect attempts of \"+r.current.reconnectAttempts+\" exceeded\")))},function(){return s&&window.clearTimeout(s)}};exports.attachListeners=function(e,r,i,a,l,f){var p,d,E,v=r.setLastMessage,S=r.setReadyState;return i.current.fromSocketIO&&(p=n.setUpSocketIOPing(f)),o(e,i,v),c(e,i,S,l),d=u(e,i,S,a,l),E=s(e,i,S,a,l),function(){S(t.ReadyState.CLOSING),d(),E(),e.close(),p&&clearInterval(p)}};","map":{"mappings":[{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":331}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":335}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":337}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":345}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":360}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":362}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":370}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":385}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":387}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":395}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":17,"column":6},"generated":{"line":1,"column":405}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":17,"column":27},"generated":{"line":1,"column":407}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":416}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":418}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":20,"column":2},"generated":{"line":1,"column":420}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":423}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":22,"column":20},"generated":{"line":1,"column":425}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":22,"column":32},"generated":{"line":1,"column":435}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":22,"column":33},"generated":{"line":1,"column":444}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":447}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":23,"column":15},"generated":{"line":1,"column":449}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":23,"column":23},"generated":{"line":1,"column":457}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":23,"column":36},"generated":{"line":1,"column":468}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":23,"column":47},"generated":{"line":1,"column":470}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":23,"column":55},"generated":{"line":1,"column":478}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":23,"column":65},"generated":{"line":1,"column":488}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":24,"column":45},"generated":{"line":1,"column":491}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":24,"column":15},"generated":{"line":1,"column":510}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":24,"column":26},"generated":{"line":1,"column":512}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":24,"column":34},"generated":{"line":1,"column":520}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":24,"column":98},"generated":{"line":1,"column":529}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":24,"column":59},"generated":{"line":1,"column":533}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":24,"column":70},"generated":{"line":1,"column":535}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":24,"column":78},"generated":{"line":1,"column":543}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":24,"column":85},"generated":{"line":1,"column":550}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":1,"column":554}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":27,"column":19},"generated":{"line":1,"column":556}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":561}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":31,"column":24},"generated":{"line":1,"column":563}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":1,"column":572}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":574}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":576}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":578}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":581}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":37,"column":20},"generated":{"line":1,"column":583}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":37,"column":29},"generated":{"line":1,"column":590}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":37,"column":30},"generated":{"line":1,"column":599}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":602}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":604}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":38,"column":23},"generated":{"line":1,"column":612}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":38,"column":33},"generated":{"line":1,"column":620}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":38,"column":44},"generated":{"line":1,"column":622}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":38,"column":52},"generated":{"line":1,"column":630}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":38,"column":59},"generated":{"line":1,"column":637}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":640}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":39,"column":19},"generated":{"line":1,"column":642}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":39,"column":29},"generated":{"line":1,"column":650}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":1,"column":652}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":40,"column":18},"generated":{"line":1,"column":654}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":40,"column":18},"generated":{"line":1,"column":656}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":40,"column":29},"generated":{"line":1,"column":667}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":1,"column":675}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":44,"column":25},"generated":{"line":1,"column":677}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":1,"column":686}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":1,"column":688}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":690}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":48,"column":2},"generated":{"line":1,"column":692}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":49,"column":2},"generated":{"line":1,"column":694}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":51,"column":2},"generated":{"line":1,"column":697}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":51,"column":6},"generated":{"line":1,"column":704}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":51,"column":6},"generated":{"line":1,"column":706}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":51,"column":32},"generated":{"line":1,"column":730}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":51,"column":61},"generated":{"line":1,"column":743}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":52,"column":11},"generated":{"line":1,"column":755}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":54,"column":2},"generated":{"line":1,"column":769}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":54,"column":2},"generated":{"line":1,"column":771}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":54,"column":20},"generated":{"line":1,"column":789}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":792}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":57,"column":20},"generated":{"line":1,"column":794}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":57,"column":30},"generated":{"line":1,"column":802}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":57,"column":31},"generated":{"line":1,"column":811}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":60,"column":4},"generated":{"line":1,"column":822}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":825}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":58,"column":15},"generated":{"line":1,"column":827}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":58,"column":23},"generated":{"line":1,"column":835}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":58,"column":34},"generated":{"line":1,"column":844}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":58,"column":45},"generated":{"line":1,"column":846}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":58,"column":53},"generated":{"line":1,"column":854}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":58,"column":61},"generated":{"line":1,"column":862}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":1,"column":865}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":59,"column":18},"generated":{"line":1,"column":867}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":59,"column":18},"generated":{"line":1,"column":869}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":59,"column":29},"generated":{"line":1,"column":880}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":60,"column":8},"generated":{"line":1,"column":888}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":60,"column":19},"generated":{"line":1,"column":890}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":60,"column":27},"generated":{"line":1,"column":898}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":60,"column":46},"generated":{"line":1,"column":915}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":60,"column":57},"generated":{"line":1,"column":917}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":60,"column":65},"generated":{"line":1,"column":925}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":60,"column":81},"generated":{"line":1,"column":941}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":60,"column":89},"generated":{"line":1,"column":944}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":61,"column":6},"generated":{"line":1,"column":945}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":61,"column":12},"generated":{"line":1,"column":949}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":61,"column":68},"generated":{"line":1,"column":951}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":61,"column":29},"generated":{"line":1,"column":959}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":61,"column":32},"generated":{"line":1,"column":961}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":61,"column":43},"generated":{"line":1,"column":963}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":61,"column":51},"generated":{"line":1,"column":971}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":61,"column":68},"generated":{"line":1,"column":996}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":61,"column":68},"generated":{"line":1,"column":1000}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":61,"column":68},"generated":{"line":1,"column":1002}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":61,"column":72},"generated":{"line":1,"column":1004}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":61,"column":72},"generated":{"line":1,"column":1006}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":62,"column":10},"generated":{"line":1,"column":1030}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":62,"column":25},"generated":{"line":1,"column":1032}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":62,"column":35},"generated":{"line":1,"column":1040}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":63,"column":8},"generated":{"line":1,"column":1042}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":63,"column":27},"generated":{"line":1,"column":1044}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":63,"column":34},"generated":{"line":1,"column":1051}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":63,"column":45},"generated":{"line":1,"column":1062}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":64,"column":10},"generated":{"line":1,"column":1073}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":64,"column":25},"generated":{"line":1,"column":1075}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1085}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":66,"column":47},"generated":{"line":1,"column":1090}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":66,"column":9},"generated":{"line":1,"column":1098}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":66,"column":11},"generated":{"line":1,"column":1100}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":66,"column":22},"generated":{"line":1,"column":1102}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":66,"column":30},"generated":{"line":1,"column":1110}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":66,"column":47},"generated":{"line":1,"column":1135}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":66,"column":47},"generated":{"line":1,"column":1139}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":66,"column":47},"generated":{"line":1,"column":1141}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":66,"column":51},"generated":{"line":1,"column":1143}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":66,"column":51},"generated":{"line":1,"column":1145}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":1177}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":68,"column":19},"generated":{"line":1,"column":1179}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":68,"column":27},"generated":{"line":1,"column":1187}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":68,"column":46},"generated":{"line":1,"column":1204}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":68,"column":57},"generated":{"line":1,"column":1206}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":68,"column":65},"generated":{"line":1,"column":1214}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":68,"column":81},"generated":{"line":1,"column":1230}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":69,"column":8},"generated":{"line":1,"column":1233}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":69,"column":16},"generated":{"line":1,"column":1241}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":69,"column":21},"generated":{"line":1,"column":1246}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":69,"column":50},"generated":{"line":1,"column":1275}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":69,"column":67},"generated":{"line":1,"column":1277}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":74,"column":9},"generated":{"line":1,"column":1293}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":1,"column":1304}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":1,"column":1311}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":74,"column":35},"generated":{"line":1,"column":1314}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":74,"column":42},"generated":{"line":1,"column":1321}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":74,"column":55},"generated":{"line":1,"column":1334}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":55,"column":2},"generated":{"line":1,"column":1339}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":1343}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":1346}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":77,"column":25},"generated":{"line":1,"column":1348}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":1,"column":1357}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":79,"column":2},"generated":{"line":1,"column":1359}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":80,"column":2},"generated":{"line":1,"column":1361}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":1363}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":1365}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1368}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":84,"column":6},"generated":{"line":1,"column":1372}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":1,"column":1374}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1381}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":86,"column":20},"generated":{"line":1,"column":1383}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":86,"column":30},"generated":{"line":1,"column":1391}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":86,"column":31},"generated":{"line":1,"column":1400}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":87,"column":4},"generated":{"line":1,"column":1411}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":87,"column":15},"generated":{"line":1,"column":1413}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":87,"column":23},"generated":{"line":1,"column":1421}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":87,"column":34},"generated":{"line":1,"column":1430}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":87,"column":45},"generated":{"line":1,"column":1432}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":87,"column":53},"generated":{"line":1,"column":1440}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":87,"column":61},"generated":{"line":1,"column":1448}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":1451}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":1453}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":88,"column":34},"generated":{"line":1,"column":1477}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":88,"column":63},"generated":{"line":1,"column":1490}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":89,"column":6},"generated":{"line":1,"column":1504}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":89,"column":17},"generated":{"line":1,"column":1506}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":89,"column":25},"generated":{"line":1,"column":1514}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":89,"column":36},"generated":{"line":1,"column":1523}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":89,"column":47},"generated":{"line":1,"column":1525}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":89,"column":55},"generated":{"line":1,"column":1533}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":89,"column":62},"generated":{"line":1,"column":1541}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":89,"column":62},"generated":{"line":1,"column":1543}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":89,"column":62},"generated":{"line":1,"column":1545}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":90,"column":11},"generated":{"line":1,"column":1548}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":90,"column":16},"generated":{"line":1,"column":1551}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":91,"column":8},"generated":{"line":1,"column":1552}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":91,"column":14},"generated":{"line":1,"column":1557}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":92,"column":8},"generated":{"line":1,"column":1562}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":92,"column":16},"generated":{"line":1,"column":1569}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":92,"column":59},"generated":{"line":1,"column":1612}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":93,"column":8},"generated":{"line":1,"column":1614}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":93,"column":18},"generated":{"line":1,"column":1624}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":96,"column":6},"generated":{"line":1,"column":1629}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":96,"column":20},"generated":{"line":1,"column":1631}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":96,"column":20},"generated":{"line":1,"column":1633}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":96,"column":31},"generated":{"line":1,"column":1644}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":97,"column":6},"generated":{"line":1,"column":1652}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":97,"column":24},"generated":{"line":1,"column":1654}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":100,"column":8},"generated":{"line":1,"column":1663}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":100,"column":19},"generated":{"line":1,"column":1665}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":100,"column":27},"generated":{"line":1,"column":1673}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":101,"column":10},"generated":{"line":1,"column":1688}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":101,"column":25},"generated":{"line":1,"column":1690}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":101,"column":72},"generated":{"line":1,"column":1699}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":101,"column":35},"generated":{"line":1,"column":1707}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":101,"column":36},"generated":{"line":1,"column":1709}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":101,"column":47},"generated":{"line":1,"column":1711}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":101,"column":55},"generated":{"line":1,"column":1719}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":101,"column":72},"generated":{"line":1,"column":1744}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":101,"column":72},"generated":{"line":1,"column":1748}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":101,"column":72},"generated":{"line":1,"column":1750}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":101,"column":76},"generated":{"line":1,"column":1752}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":101,"column":76},"generated":{"line":1,"column":1754}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":102,"column":8},"generated":{"line":1,"column":1779}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":102,"column":27},"generated":{"line":1,"column":1781}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":102,"column":34},"generated":{"line":1,"column":1788}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":102,"column":45},"generated":{"line":1,"column":1799}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":103,"column":10},"generated":{"line":1,"column":1810}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":103,"column":25},"generated":{"line":1,"column":1812}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":104,"column":10},"generated":{"line":1,"column":1822}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":105,"column":47},"generated":{"line":1,"column":1827}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":105,"column":9},"generated":{"line":1,"column":1835}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":105,"column":11},"generated":{"line":1,"column":1837}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":105,"column":22},"generated":{"line":1,"column":1839}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":105,"column":30},"generated":{"line":1,"column":1847}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":105,"column":47},"generated":{"line":1,"column":1872}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":105,"column":47},"generated":{"line":1,"column":1876}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":105,"column":47},"generated":{"line":1,"column":1878}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":105,"column":51},"generated":{"line":1,"column":1880}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":105,"column":51},"generated":{"line":1,"column":1882}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":107,"column":8},"generated":{"line":1,"column":1914}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":107,"column":19},"generated":{"line":1,"column":1916}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":107,"column":27},"generated":{"line":1,"column":1924}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":107,"column":46},"generated":{"line":1,"column":1941}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":107,"column":57},"generated":{"line":1,"column":1943}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":107,"column":65},"generated":{"line":1,"column":1951}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":107,"column":81},"generated":{"line":1,"column":1967}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":107,"column":92},"generated":{"line":1,"column":1969}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":107,"column":100},"generated":{"line":1,"column":1977}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":108,"column":8},"generated":{"line":1,"column":1996}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":108,"column":16},"generated":{"line":1,"column":2004}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":108,"column":21},"generated":{"line":1,"column":2009}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":108,"column":50},"generated":{"line":1,"column":2038}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":108,"column":61},"generated":{"line":1,"column":2040}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":108,"column":69},"generated":{"line":1,"column":2048}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":108,"column":86},"generated":{"line":1,"column":2066}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":113,"column":9},"generated":{"line":1,"column":2082}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":113,"column":15},"generated":{"line":1,"column":2093}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":113,"column":15},"generated":{"line":1,"column":2100}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":113,"column":35},"generated":{"line":1,"column":2103}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":113,"column":42},"generated":{"line":1,"column":2110}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":113,"column":55},"generated":{"line":1,"column":2123}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":116,"column":13},"generated":{"line":1,"column":2128}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":116,"column":13},"generated":{"line":1,"column":2136}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":116,"column":31},"generated":{"line":1,"column":2152}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":117,"column":4},"generated":{"line":1,"column":2161}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":118,"column":4},"generated":{"line":1,"column":2163}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":119,"column":4},"generated":{"line":1,"column":2165}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":120,"column":4},"generated":{"line":1,"column":2167}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":121,"column":4},"generated":{"line":1,"column":2169}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":122,"column":4},"generated":{"line":1,"column":2171}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":124,"column":10},"generated":{"line":1,"column":2174}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":126,"column":6},"generated":{"line":1,"column":2178}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":127,"column":6},"generated":{"line":1,"column":2180}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":128,"column":6},"generated":{"line":1,"column":2182}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":124,"column":10},"generated":{"line":1,"column":2184}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":124,"column":44},"generated":{"line":1,"column":2186}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":124,"column":51},"generated":{"line":1,"column":2188}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":124,"column":26},"generated":{"line":1,"column":2203}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":124,"column":44},"generated":{"line":1,"column":2205}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":124,"column":51},"generated":{"line":1,"column":2207}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":163,"column":2},"generated":{"line":1,"column":2221}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":130,"column":6},"generated":{"line":1,"column":2228}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":130,"column":17},"generated":{"line":1,"column":2230}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":130,"column":25},"generated":{"line":1,"column":2238}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":131,"column":4},"generated":{"line":1,"column":2253}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":131,"column":15},"generated":{"line":1,"column":2255}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":131,"column":15},"generated":{"line":1,"column":2257}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":131,"column":33},"generated":{"line":1,"column":2275}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":134,"column":2},"generated":{"line":1,"column":2279}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":135,"column":4},"generated":{"line":1,"column":2281}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":136,"column":4},"generated":{"line":1,"column":2283}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":137,"column":4},"generated":{"line":1,"column":2285}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":140,"column":2},"generated":{"line":1,"column":2288}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":141,"column":4},"generated":{"line":1,"column":2290}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":142,"column":4},"generated":{"line":1,"column":2292}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":143,"column":4},"generated":{"line":1,"column":2294}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":144,"column":4},"generated":{"line":1,"column":2296}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":147,"column":2},"generated":{"line":1,"column":2299}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":147,"column":27},"generated":{"line":1,"column":2301}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":148,"column":4},"generated":{"line":1,"column":2303}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":149,"column":4},"generated":{"line":1,"column":2305}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":150,"column":4},"generated":{"line":1,"column":2307}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":151,"column":4},"generated":{"line":1,"column":2309}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":152,"column":4},"generated":{"line":1,"column":2311}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":155,"column":2},"generated":{"line":1,"column":2314}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":155,"column":27},"generated":{"line":1,"column":2316}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":156,"column":4},"generated":{"line":1,"column":2318}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":157,"column":4},"generated":{"line":1,"column":2320}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":158,"column":4},"generated":{"line":1,"column":2322}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":159,"column":4},"generated":{"line":1,"column":2324}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":160,"column":4},"generated":{"line":1,"column":2326}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":163,"column":9},"generated":{"line":1,"column":2329}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":164,"column":4},"generated":{"line":1,"column":2340}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":164,"column":18},"generated":{"line":1,"column":2342}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":164,"column":18},"generated":{"line":1,"column":2344}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":164,"column":29},"generated":{"line":1,"column":2355}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":165,"column":4},"generated":{"line":1,"column":2364}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":166,"column":4},"generated":{"line":1,"column":2368}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":167,"column":4},"generated":{"line":1,"column":2372}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":167,"column":22},"generated":{"line":1,"column":2374}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":168,"column":8},"generated":{"line":1,"column":2382}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":168,"column":18},"generated":{"line":1,"column":2385}},{"source":"../../src/lib/attach-listener.ts","name":null,"original":{"line":168,"column":32},"generated":{"line":1,"column":2399}}],"sources":{"../../src/lib/attach-listener.ts":"import { MutableRefObject } from 'react';\nimport { setUpSocketIOPing } from './socket-io';\nimport {\n  DEFAULT_RECONNECT_LIMIT,\n  DEFAULT_RECONNECT_INTERVAL_MS,\n  ReadyState,\n  isEventSourceSupported,\n} from './constants';\nimport { Options, SendMessage, WebSocketLike } from './types';\nimport { assertIsWebSocket } from './util';\n\nexport interface Setters {\n  setLastMessage: (message: WebSocketEventMap['message']) => void;\n  setReadyState: (readyState: ReadyState) => void;\n}\n\nconst bindMessageHandler = (\n  webSocketInstance: WebSocketLike,\n  optionsRef: MutableRefObject<Options>,\n  setLastMessage: Setters['setLastMessage'],\n) => {\n  webSocketInstance.onmessage = (message: WebSocketEventMap['message']) => {\n    optionsRef.current.onMessage && optionsRef.current.onMessage(message);\n    if (typeof optionsRef.current.filter === 'function' && optionsRef.current.filter(message) !== true) {\n      return;\n    }\n    setLastMessage(message);\n  };\n};\n\nconst bindOpenHandler = (\n  webSocketInstance: WebSocketLike,\n  optionsRef: MutableRefObject<Options>,\n  setReadyState: Setters['setReadyState'],\n  reconnectCount: MutableRefObject<number>,\n) => {\n  webSocketInstance.onopen = (event: WebSocketEventMap['open']) => {\n    optionsRef.current.onOpen && optionsRef.current.onOpen(event);\n    reconnectCount.current = 0;\n    setReadyState(ReadyState.OPEN);\n  };\n};\n\nconst bindCloseHandler = (\n  webSocketInstance: WebSocketLike,\n  optionsRef: MutableRefObject<Options>,\n  setReadyState: Setters['setReadyState'],\n  reconnect: () => void,\n  reconnectCount: MutableRefObject<number>,\n) => {\n  if (isEventSourceSupported && webSocketInstance instanceof EventSource) {\n    return () => {};\n  }\n  assertIsWebSocket(webSocketInstance);\n  let reconnectTimeout: number;\n\n  webSocketInstance.onclose = (event: WebSocketEventMap['close']) => {\n    optionsRef.current.onClose && optionsRef.current.onClose(event);\n    setReadyState(ReadyState.CLOSED);\n    if (optionsRef.current.shouldReconnect && optionsRef.current.shouldReconnect(event)) {\n      const reconnectAttempts = optionsRef.current.reconnectAttempts ?? DEFAULT_RECONNECT_LIMIT;\n      if (reconnectCount.current < reconnectAttempts) {\n        reconnectTimeout = window.setTimeout(() => {\n          reconnectCount.current++;\n          reconnect();\n        }, optionsRef.current.reconnectInterval ?? DEFAULT_RECONNECT_INTERVAL_MS);\n      } else {\n        optionsRef.current.onReconnectStop && optionsRef.current.onReconnectStop(reconnectAttempts);\n        console.warn(`Max reconnect attempts of ${reconnectAttempts} exceeded`);\n      }\n    }\n  };\n\n  return () => reconnectTimeout && window.clearTimeout(reconnectTimeout);\n};\n\nconst bindErrorHandler = (\n  webSocketInstance: WebSocketLike,\n  optionsRef: MutableRefObject<Options>,\n  setReadyState: Setters['setReadyState'],\n  reconnect: () => void,\n  reconnectCount: MutableRefObject<number>,\n) => {\n  let reconnectTimeout: number;\n\n  webSocketInstance.onerror = (error: WebSocketEventMap['error']) => {\n    optionsRef.current.onError && optionsRef.current.onError(error);\n    if (isEventSourceSupported && webSocketInstance instanceof EventSource) {\n      optionsRef.current.onClose && optionsRef.current.onClose({\n        ...error,\n        code: 1006,\n        reason: `An error occurred with the EventSource: ${error}`,\n        wasClean: false,\n      });\n\n      setReadyState(ReadyState.CLOSED);\n      webSocketInstance.close();\n    }\n    \n    if (optionsRef.current.retryOnError) {\n      if (reconnectCount.current < (optionsRef.current.reconnectAttempts ?? DEFAULT_RECONNECT_LIMIT)) {\n        reconnectTimeout = window.setTimeout(() => {\n          reconnectCount.current++;\n          reconnect();\n        }, optionsRef.current.reconnectInterval ?? DEFAULT_RECONNECT_INTERVAL_MS);\n      } else {\n        optionsRef.current.onReconnectStop && optionsRef.current.onReconnectStop(optionsRef.current.reconnectAttempts as number);\n        console.warn(`Max reconnect attempts of ${optionsRef.current.reconnectAttempts} exceeded`);\n      }\n    }\n  };\n\n  return () => reconnectTimeout && window.clearTimeout(reconnectTimeout);\n};\n\nexport const attachListeners = (\n    webSocketInstance: WebSocketLike,\n    setters: Setters,\n    optionsRef: MutableRefObject<Options>,\n    reconnect: () => void,\n    reconnectCount: MutableRefObject<number>,\n    sendMessage: SendMessage,\n  ): (() => void) => {\n  const { setLastMessage, setReadyState } = setters;\n\n  let interval: number;\n  let cancelReconnectOnClose: () => void;\n  let cancelReconnectOnError: () => void;\n\n  if (optionsRef.current.fromSocketIO) {\n    interval = setUpSocketIOPing(sendMessage);\n  }\n\n  bindMessageHandler(\n    webSocketInstance,\n    optionsRef,\n    setLastMessage,\n  );\n\n  bindOpenHandler(\n    webSocketInstance,\n    optionsRef,\n    setReadyState,\n    reconnectCount,\n  );\n\n  cancelReconnectOnClose = bindCloseHandler(\n    webSocketInstance,\n    optionsRef,\n    setReadyState,\n    reconnect,\n    reconnectCount,\n  );\n\n  cancelReconnectOnError = bindErrorHandler(\n    webSocketInstance,\n    optionsRef,\n    setReadyState,\n    reconnect,\n    reconnectCount,\n  );\n\n  return () => {\n    setReadyState(ReadyState.CLOSING);\n    cancelReconnectOnClose();\n    cancelReconnectOnError();\n    webSocketInstance.close();\n    if (interval) clearInterval(interval);\n  };\n};\n"},"lineCount":null}},"hash":"144bc4ee0146951e32fe2dafa8d1936c","cacheData":{"env":{}}}