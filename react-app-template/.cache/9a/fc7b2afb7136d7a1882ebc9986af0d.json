{"id":"UiiJ","dependencies":[{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/use-event-source.js.map","includedInParent":true,"mtime":1679124831168},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/src/lib/use-event-source.ts","includedInParent":true,"mtime":1679124831180},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/package.json","includedInParent":true,"mtime":1679124831384},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/.babelrc","includedInParent":true,"mtime":1637703918124},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/package.json","includedInParent":true,"mtime":1679124831164},{"name":"react","loc":{"line":26,"column":22,"index":1006},"parent":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/use-event-source.js","resolved":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react/index.js"},{"name":"./use-websocket","loc":{"line":27,"column":30,"index":1046},"parent":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/use-event-source.js","resolved":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/use-websocket.js"},{"name":"./constants","loc":{"line":28,"column":26,"index":1092},"parent":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/use-event-source.js","resolved":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/constants.js"}],"generated":{"js":"\"use strict\";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},t=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.useEventSource=void 0;var r=require(\"react\"),n=require(\"./use-websocket\"),o=require(\"./constants\");exports.useEventSource=function(s,i,a){void 0===i&&(i=o.DEFAULT_EVENT_SOURCE_OPTIONS),void 0===a&&(a=!0);var c=i.withCredentials,u=i.events,l=t(i,[\"withCredentials\",\"events\"]),p=e(e({},l),{eventSourceOptions:{withCredentials:c}}),v=r.useRef(o.EMPTY_EVENT_HANDLERS);u&&(v.current=u);var f=n.useWebSocket(s,p,a),O=f.lastMessage,y=f.readyState,E=f.getWebSocket;return r.useEffect(function(){(null==O?void 0:O.type)&&Object.entries(v.current).forEach(function(e){var t=e[0],r=e[1];t===O.type&&r(O)})},[O]),{lastEvent:O,readyState:y,getEventSource:E}};","map":{"mappings":[{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":681}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":685}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":687}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":695}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":704}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":706}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":714}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":733}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":735}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":743}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":6,"column":13},"generated":{"line":1,"column":758}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":6,"column":13},"generated":{"line":1,"column":766}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":6,"column":30},"generated":{"line":1,"column":781}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":7,"column":2},"generated":{"line":1,"column":790}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":792}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":794}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":802}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":806}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":810}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":64},"generated":{"line":1,"column":812}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":64},"generated":{"line":1,"column":814}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":849}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":853}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":857}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":860}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":4},"generated":{"line":1,"column":863}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":4},"generated":{"line":1,"column":867}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":19},"generated":{"line":1,"column":869}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":19},"generated":{"line":1,"column":871}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":21},"generated":{"line":1,"column":887}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":27},"generated":{"line":1,"column":889}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":27},"generated":{"line":1,"column":891}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":32},"generated":{"line":1,"column":898}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":39},"generated":{"line":1,"column":900}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":39},"generated":{"line":1,"column":902}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":904}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":905}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":923}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":11,"column":8},"generated":{"line":1,"column":934}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":11,"column":30},"generated":{"line":1,"column":936}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":11,"column":30},"generated":{"line":1,"column":938}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":11,"column":30},"generated":{"line":1,"column":940}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":1,"column":943}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":12,"column":16},"generated":{"line":1,"column":946}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":1,"column":947}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":13,"column":26},"generated":{"line":1,"column":966}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":1,"column":967}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":14,"column":23},"generated":{"line":1,"column":983}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":17,"column":8},"generated":{"line":1,"column":988}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":17,"column":20},"generated":{"line":1,"column":990}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":17,"column":20},"generated":{"line":1,"column":992}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":17,"column":53},"generated":{"line":1,"column":999}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":17,"column":53},"generated":{"line":1,"column":1001}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":18,"column":6},"generated":{"line":1,"column":1023}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":1027}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":19,"column":14},"generated":{"line":1,"column":1029}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":19,"column":24},"generated":{"line":1,"column":1037}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":22,"column":8},"generated":{"line":1,"column":1040}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":22,"column":8},"generated":{"line":1,"column":1044}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":26,"column":6},"generated":{"line":1,"column":1046}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":26,"column":6},"generated":{"line":1,"column":1048}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":1,"column":1061}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":1063}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":1065}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":1068}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":23,"column":15},"generated":{"line":1,"column":1070}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":23,"column":15},"generated":{"line":1,"column":1072}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":1084}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":1,"column":1086}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":1,"column":1088}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":1,"column":1099}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":1101}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":1103}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":1116}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":1,"column":1123}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":1,"column":1125}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":1135}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":1147}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":1153}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":33,"column":19},"generated":{"line":1,"column":1160}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":1162}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":33,"column":21},"generated":{"line":1,"column":1164}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":1171}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":34,"column":15},"generated":{"line":1,"column":1178}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":34,"column":23},"generated":{"line":1,"column":1186}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":34,"column":33},"generated":{"line":1,"column":1188}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":34,"column":42},"generated":{"line":1,"column":1197}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":34,"column":50},"generated":{"line":1,"column":1205}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":34,"column":51},"generated":{"line":1,"column":1214}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":34,"column":52},"generated":{"line":1,"column":1221}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":34,"column":56},"generated":{"line":1,"column":1223}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":34,"column":56},"generated":{"line":1,"column":1225}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":34,"column":58},"generated":{"line":1,"column":1228}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":34,"column":65},"generated":{"line":1,"column":1230}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":34,"column":65},"generated":{"line":1,"column":1232}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":35,"column":16},"generated":{"line":1,"column":1235}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":35,"column":25},"generated":{"line":1,"column":1239}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":35,"column":37},"generated":{"line":1,"column":1241}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":36,"column":16},"generated":{"line":1,"column":1247}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":36,"column":24},"generated":{"line":1,"column":1249}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":40,"column":5},"generated":{"line":1,"column":1255}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":40,"column":6},"generated":{"line":1,"column":1256}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":1,"column":1260}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":1,"column":1261}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":43,"column":15},"generated":{"line":1,"column":1271}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":1273}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":44,"column":14},"generated":{"line":1,"column":1284}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":1,"column":1286}},{"source":"../../src/lib/use-event-source.ts","name":null,"original":{"line":45,"column":20},"generated":{"line":1,"column":1301}}],"sources":{"../../src/lib/use-event-source.ts":"import { useEffect, useRef } from 'react'\nimport { useWebSocket } from './use-websocket'\nimport { DEFAULT_EVENT_SOURCE_OPTIONS, EMPTY_EVENT_HANDLERS } from './constants'\nimport { EventSourceOptions, Options, EventSourceHook, EventSourceEventHandlers } from './types';\n\nexport const useEventSource = (\n  url: string | (() => string | Promise<string>) | null,\n  { withCredentials, events, ...options }: EventSourceOptions = DEFAULT_EVENT_SOURCE_OPTIONS,\n  connect: boolean = true,\n): EventSourceHook => {\n  const optionsWithEventSource: Options = {\n      ...options,\n      eventSourceOptions: {\n        withCredentials,\n      }\n  };\n  const eventsRef = useRef<EventSourceEventHandlers>(EMPTY_EVENT_HANDLERS);\n  if (events) {\n    eventsRef.current = events\n  }\n\n  const {\n    lastMessage,\n    readyState,\n    getWebSocket,\n  } = useWebSocket(\n    url,\n    optionsWithEventSource,\n    connect,\n  );\n\n  useEffect(() => {\n    if (lastMessage?.type) {\n        Object.entries(eventsRef.current).forEach(([type, handler]) => {\n            if (type === lastMessage.type) {\n                handler(lastMessage);\n            }\n        });\n    }\n  }, [lastMessage]);\n\n  return {\n    lastEvent: lastMessage,\n    readyState,\n    getEventSource: getWebSocket,\n  };\n}\n"},"lineCount":null}},"hash":"f8f4c0b888d24892ba142fda9a4e5819","cacheData":{"env":{}}}