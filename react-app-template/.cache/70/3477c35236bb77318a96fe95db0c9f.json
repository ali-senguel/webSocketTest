{"id":"../node_modules/react-use-websocket/dist/lib/proxy.js","dependencies":[{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/proxy.js.map","includedInParent":true,"mtime":1679124831168},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/src/lib/proxy.ts","includedInParent":true,"mtime":1679124831176},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/package.json","includedInParent":true,"mtime":1679124831384},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/.babelrc","includedInParent":true,"mtime":1637703918124},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/package.json","includedInParent":true,"mtime":1679124831164}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.websocketWrapper = void 0;\nexports.websocketWrapper = function (webSocket, start) {\n    return new Proxy(webSocket, {\n        get: function (obj, key) {\n            var val = obj[key];\n            if (key === 'reconnect')\n                return start;\n            if (typeof val === 'function') {\n                console.error('Calling methods directly on the websocket is not supported at this moment. You must use the methods returned by useWebSocket.');\n                //Prevent error thrown by invoking a non-function\n                return function () { };\n            }\n            else {\n                return val;\n            }\n        },\n        set: function (obj, key, val) {\n            if (/^on/.test(key)) {\n                console.warn('The websocket\\'s event handlers should be defined through the options object passed into useWebSocket.');\n                return false;\n            }\n            else {\n                obj[key] = val;\n                return true;\n            }\n        },\n    });\n};\nexports.default = exports.websocketWrapper;\n","map":{"version":3,"file":"proxy.js","sourceRoot":"","sources":["../../src/lib/proxy.ts"],"names":[],"mappings":";;;AAUa,QAAA,gBAAgB,GAAG,UAC9B,SAAoB,EACpB,KAAmC;IAGnC,OAAO,IAAI,KAAK,CAAY,SAAS,EAAE;QACrC,GAAG,EAAE,UAAC,GAAG,EAAE,GAAoB;YAC7B,IAAM,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;YACrB,IAAK,GAAW,KAAK,WAAW;gBAAE,OAAO,KAAK,CAAC;YAC/C,IAAI,OAAO,GAAG,KAAK,UAAU,EAAE;gBAC7B,OAAO,CAAC,KAAK,CAAC,+HAA+H,CAAC,CAAC;gBAE/I,iDAAiD;gBACjD,OAAO,cAAO,CAAC,CAAC;aACjB;iBAAM;gBACL,OAAO,GAAG,CAAC;aACZ;QACH,CAAC;QACD,GAAG,EAAE,UAAC,GAAc,EAAE,GAA2B,EAAE,GAAQ;YACzD,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;gBACnB,OAAO,CAAC,IAAI,CAAC,wGAAwG,CAAC,CAAA;gBACtH,OAAO,KAAK,CAAC;aACd;iBAAM;gBACL,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;gBACf,OAAO,IAAI,CAAC;aACb;QACH,CAAC;KACF,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,kBAAe,wBAAgB,CAAC","sourcesContent":["import { MutableRefObject } from 'react';\n\ntype IfEquals<X, Y, A=X, B=never> =\n  (<T>() => T extends X ? 1 : 2) extends\n  (<T>() => T extends Y ? 1 : 2) ? A : B;\n\ntype WritableKeys<T> = {\n  [P in keyof T]-?: IfEquals<{ [Q in P]: T[P] }, { -readonly [Q in P]: T[P] }, P>\n}[keyof T];\n\nexport const websocketWrapper = (\n  webSocket: WebSocket,\n  start: MutableRefObject<() => void>,\n): WebSocket => {\n\n  return new Proxy<WebSocket>(webSocket, {\n    get: (obj, key: keyof WebSocket) => {\n      const val = obj[key];\n      if ((key as any) === 'reconnect') return start;\n      if (typeof val === 'function') {\n        console.error('Calling methods directly on the websocket is not supported at this moment. You must use the methods returned by useWebSocket.');\n        \n        //Prevent error thrown by invoking a non-function\n        return () => {};\n      } else {\n        return val;\n      }\n    },\n    set: (obj: WebSocket, key:WritableKeys<WebSocket>, val: any) => {\n      if (/^on/.test(key)) {\n        console.warn('The websocket\\'s event handlers should be defined through the options object passed into useWebSocket.')\n        return false;\n      } else {\n        obj[key] = val;\n        return true;\n      }\n    },\n  });\n};\n\nexport default websocketWrapper;\n"]}},"hash":"2578c3cb633fffdf1794ea6df395cc1a","cacheData":{"env":{}}}