{"id":"/vfd","dependencies":[{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/use-socket-io.js.map","includedInParent":true,"mtime":1679124831168},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/src/lib/use-socket-io.ts","includedInParent":true,"mtime":1679124831180},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/package.json","includedInParent":true,"mtime":1679124831384},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/.babelrc","includedInParent":true,"mtime":1637703918124},{"name":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/package.json","includedInParent":true,"mtime":1679124831164},{"name":"react","loc":{"line":15,"column":22,"index":512},"parent":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/use-socket-io.js","resolved":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react/index.js"},{"name":"./use-websocket","loc":{"line":16,"column":30,"index":552},"parent":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/use-socket-io.js","resolved":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/use-websocket.js"},{"name":"./constants","loc":{"line":17,"column":26,"index":598},"parent":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/use-socket-io.js","resolved":"/home/sengul/Documents/Projects/Ltc/3dMDWebsocket/react-app-template/node_modules/react-use-websocket/dist/lib/constants.js"}],"generated":{"js":"\"use strict\";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.useSocketIO=void 0;var t=require(\"react\"),r=require(\"./use-websocket\"),s=require(\"./constants\"),a={type:\"empty\",payload:null},n=function(e){if(!e||!e.data)return a;var t=e.data.match(/\\[.*]/);if(!t)return a;var r=JSON.parse(t);return Array.isArray(r)&&r[1]?{type:r[0],payload:r[1]}:a};exports.useSocketIO=function(a,o,u){void 0===o&&(o=s.DEFAULT_OPTIONS),void 0===u&&(u=!0);var i=t.useMemo(function(){return e(e({},o),{fromSocketIO:!0})},[]),c=r.useWebSocket(a,i,u),d=c.sendMessage,p=c.sendJsonMessage,l=c.lastMessage,y=c.readyState,f=c.getWebSocket,g=t.useMemo(function(){return n(l)},[l]);return{sendMessage:d,sendJsonMessage:p,lastMessage:g,lastJsonMessage:g,readyState:y,getWebSocket:f}};","map":{"mappings":[{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":327}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":331}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":333}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":341}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":350}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":352}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":360}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":379}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":381}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":389}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":11,"column":6},"generated":{"line":1,"column":404}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":11,"column":40},"generated":{"line":1,"column":406}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":12,"column":2},"generated":{"line":1,"column":407}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":12,"column":8},"generated":{"line":1,"column":412}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":1,"column":420}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":13,"column":11},"generated":{"line":1,"column":428}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":16,"column":6},"generated":{"line":1,"column":434}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":16,"column":22},"generated":{"line":1,"column":436}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":16,"column":23},"generated":{"line":1,"column":445}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":448}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":17,"column":7},"generated":{"line":1,"column":452}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":17,"column":17},"generated":{"line":1,"column":456}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":17,"column":23},"generated":{"line":1,"column":458}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":463}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":18,"column":11},"generated":{"line":1,"column":470}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":472}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":21,"column":8},"generated":{"line":1,"column":476}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":21,"column":16},"generated":{"line":1,"column":478}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":21,"column":22},"generated":{"line":1,"column":480}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":485}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":21,"column":33},"generated":{"line":1,"column":491}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":500}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":504}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":506}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":1,"column":513}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":515}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":519}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":27,"column":15},"generated":{"line":1,"column":521}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":27,"column":20},"generated":{"line":1,"column":526}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":27,"column":26},"generated":{"line":1,"column":532}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":1,"column":535}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":29,"column":7},"generated":{"line":1,"column":542}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":1,"column":548}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":29,"column":21},"generated":{"line":1,"column":556}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":1,"column":560}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":29,"column":36},"generated":{"line":1,"column":562}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":565}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":1,"column":566}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":1,"column":571}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":34,"column":15},"generated":{"line":1,"column":573}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":1,"column":576}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":35,"column":13},"generated":{"line":1,"column":584}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":35,"column":18},"generated":{"line":1,"column":586}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":1,"column":590}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":39,"column":13},"generated":{"line":1,"column":593}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":39,"column":13},"generated":{"line":1,"column":601}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":39,"column":27},"generated":{"line":1,"column":613}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":622}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":1,"column":624}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":626}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":1,"column":634}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":1,"column":638}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":1,"column":642}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":41,"column":21},"generated":{"line":1,"column":644}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":41,"column":21},"generated":{"line":1,"column":646}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":668}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":672}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":676}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":679}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":44,"column":2},"generated":{"line":1,"column":682}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":1,"column":686}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":44,"column":30},"generated":{"line":1,"column":688}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":44,"column":30},"generated":{"line":1,"column":690}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":44,"column":38},"generated":{"line":1,"column":698}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":44,"column":44},"generated":{"line":1,"column":709}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":44,"column":44},"generated":{"line":1,"column":716}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":44,"column":44},"generated":{"line":1,"column":718}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":44,"column":44},"generated":{"line":1,"column":720}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":45,"column":7},"generated":{"line":1,"column":723}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":45,"column":14},"generated":{"line":1,"column":726}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":1,"column":727}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":46,"column":18},"generated":{"line":1,"column":741}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":1,"column":746}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":750}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":752}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":754}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":1,"column":767}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":769}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":1,"column":771}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":1,"column":774}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":50,"column":15},"generated":{"line":1,"column":776}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":50,"column":15},"generated":{"line":1,"column":778}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":1,"column":790}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":51,"column":19},"generated":{"line":1,"column":792}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":51,"column":19},"generated":{"line":1,"column":794}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":810}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":52,"column":15},"generated":{"line":1,"column":812}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":52,"column":15},"generated":{"line":1,"column":814}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":826}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":53,"column":14},"generated":{"line":1,"column":828}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":53,"column":14},"generated":{"line":1,"column":830}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":841}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":54,"column":16},"generated":{"line":1,"column":843}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":54,"column":16},"generated":{"line":1,"column":845}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":1,"column":858}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":62,"column":30},"generated":{"line":1,"column":860}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":62,"column":30},"generated":{"line":1,"column":862}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":62,"column":38},"generated":{"line":1,"column":870}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":1,"column":881}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":1,"column":888}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":63,"column":18},"generated":{"line":1,"column":890}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":63,"column":32},"generated":{"line":1,"column":894}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":63,"column":33},"generated":{"line":1,"column":895}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":65,"column":2},"generated":{"line":1,"column":899}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":65,"column":9},"generated":{"line":1,"column":905}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":66,"column":4},"generated":{"line":1,"column":906}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":66,"column":15},"generated":{"line":1,"column":918}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":1,"column":920}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":67,"column":19},"generated":{"line":1,"column":936}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":1,"column":938}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":68,"column":17},"generated":{"line":1,"column":950}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":1,"column":952}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":69,"column":21},"generated":{"line":1,"column":968}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":1,"column":970}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":70,"column":14},"generated":{"line":1,"column":981}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":1,"column":983}},{"source":"../../src/lib/use-socket-io.ts","name":null,"original":{"line":71,"column":16},"generated":{"line":1,"column":996}}],"sources":{"../../src/lib/use-socket-io.ts":"import { useMemo } from 'react'\nimport { useWebSocket } from './use-websocket'\nimport { DEFAULT_OPTIONS } from './constants'\nimport { Options, WebSocketHook } from './types';\n\nexport interface SocketIOMessageData {\n  type: string,\n  payload: any,\n}\n\nconst emptyEvent: SocketIOMessageData = {\n  type: 'empty',\n  payload: null,\n}\n\nconst getSocketData = (event: WebSocketEventMap['message'] | null): SocketIOMessageData => {\n  if (!event || !event.data) {\n    return emptyEvent\n  }\n\n  const match = event.data.match(/\\[.*]/)\n\n  if (!match) {\n    return emptyEvent\n  }\n\n  const data = JSON.parse(match)\n\n  if (!Array.isArray(data) || !data[1]) {\n    return emptyEvent\n  }\n\n  return {\n    type: data[0],\n    payload: data[1],\n  }\n}\n\nexport const useSocketIO = (\n  url: string | (() => string | Promise<string>) | null,\n  options: Options = DEFAULT_OPTIONS,\n  connect: boolean = true,\n): WebSocketHook<SocketIOMessageData> => {\n  const optionsWithSocketIO = useMemo(() => ({\n    ...options,\n    fromSocketIO: true,\n  }), [])\n\n  const {\n    sendMessage,\n    sendJsonMessage,\n    lastMessage,\n    readyState,\n    getWebSocket,\n  } = useWebSocket(\n\n    url,\n    optionsWithSocketIO,\n    connect,\n  );\n\n  const socketIOLastMessage = useMemo(() =>\n    getSocketData(lastMessage), [lastMessage]);\n\n  return {\n    sendMessage,\n    sendJsonMessage,\n    lastMessage: socketIOLastMessage,\n    lastJsonMessage: socketIOLastMessage,\n    readyState,\n    getWebSocket,\n  };\n}\n"},"lineCount":null}},"hash":"62a0ee2fe116f146157ded9a82303b90","cacheData":{"env":{}}}